<div class="p-4 sm:ml-64">
    <div class="p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700">
        <h1 class="text-2xl lato-bold mb-7">Tableau de bord - <span class="underline">Liste des prestations et catégories</span></h1>

        <div class="p-4 border-2 mb-4 flex flex-col border-gray-200 border-dashed rounded-lg dark:border-gray-700">
            <h2 class="text-xl lato-bold mb-7">
                Prestations
            </h2>

            <div class="h-48-md mb-4 p-4 flex flex-col md:flex-row gap-2 rounded bg-gray-50 dark:bg-gray-800">
                <div class="md:w-1/3 w-100">
                    <h3 class="bg-yellow-var rounded-md w-fit px-1 text-brown text-base lato-bold mb-1">Type</h3>
                </div>
                <div class="md:w-1/3 w-100">
                    <p class="text-brown text-base md:text-center text-right lato-bold">Base tarifaire €</p>
                </div>
                <div class="h-full basis-1/3 flex-column">
                    <p class="text-brown text-base md:text-center lato-bold">Catégories attribuées</p>
                </div>
                <div class="h-full basis-1/3 flex md:justify-end">
                    <button type="button" data-modal-target="add-prestation" data-modal-toggle="add-prestation" class="focus:outline-none btn-cta hover:cursor-pointer text-sm px-4 py-2 rounded-lg lato-bold  dark:focus:ring-yellow-900">Ajouter une nouvelle prestation</button>
                </div>
                <app-add-prestation></app-add-prestation>
            </div>

            <div *ngFor="let prestation of prestationlist$ | async; let i = index; trackBy: trackPrestation" class="h-48-md mb-4 p-4 flex flex-col md:flex-row gap-2 rounded bg-gray-50 dark:bg-gray-800">
                <div class="md:w-1/3 w-100">
                    <h3 class="bg-yellow-var rounded-md w-fit px-1 text-brown text-base lato-bold mb-1">{{ prestation.name }}</h3>
                </div>
                <div class="md:w-1/3 w-100">
                    <p class="text-brown text-base md:text-center text-right lato-bold">{{prestation.base_price | currency:'EUR'}}</p>
                </div>
                <div class="h-full basis-1/3 flex-column">
                    <div *ngFor="let attribution of prestation.attributionPrestationCategories">
                        <p *ngFor="let category of attribution.Category" class="text-brown text-sm text-left md:px-14 lato-bold">{{ category.name }}</p>
                    </div>
                </div>
                <div class="h-full basis-1/3 flex md:justify-end">
                    <button type="button" (click)="showModal(i)" class="focus:outline-none btn-cta hover:cursor-pointer text-sm px-4 py-2 rounded-lg lato-bold  dark:focus:ring-yellow-900">Modifier/supprimer</button>
                </div>
                <app-prestation-form [idPrestation]="prestation.id" [i]="i"></app-prestation-form>
            </div>
        </div>

        <div class="p-4 border-2 mb-4 border-gray-200 border-dashed rounded-lg dark:border-gray-700">
            <h2 class="text-xl lato-bold mb-7">
                Catégories
            </h2>
            <div class="h-48-md mb-4 p-4 flex flex-col md:flex-row gap-2 rounded bg-gray-50 dark:bg-gray-800">
                <div class="md:w-1/3 w-100">
                    <h3 class="bg-yellow-var rounded-md w-fit px-1 text-brown text-base lato-bold mb-1">Type</h3>
                </div>
                <div class="md:w-1/3 w-100">
                    <p class="text-brown text-base md:text-center text-right lato-bold">Coefficient tarifaire</p>
                </div>
                <div class="h-full basis-1/3 flex-column">
                    <p class="text-brown text-base md:text-center lato-bold">Prestations associées</p>
                </div>
                <div class="h-full basis-1/3 flex md:justify-end">
                    <button type="button" data-modal-target="add-category" data-modal-toggle="add-category" class="focus:outline-none btn-cta hover:cursor-pointer text-sm px-4 py-2 rounded-lg lato-bold  dark:focus:ring-yellow-900">Ajouter une catégorie</button>
                </div>
                <app-add-category></app-add-category>
            </div>
            <app-category-list></app-category-list>
        </div>
        
    </div>
 </div>

